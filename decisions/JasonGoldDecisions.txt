# TODO either set a one time decision to apply `constitute_new_world = K14` 
# Or simply just run it in prov.txt
# Or make decision to turn on a flag that will continually reconstitute the world.

# However, not sure how to programmatically pass in the tag
# Perhaps we can should use NSA tag for nassau instead

country_decisions = {
    enable_gold_auto_dev = {
        major = yes
        color = { 100 200 0 }
        potential = {
            ai = no
            OR = {
                has_country_flag = jason_show_decisions_enabled
                has_country_flag = jason_show_dev_decisions_enabled
            }
            NOT = {
                has_country_flag = jason_gold_dev_enabled
            }
        }
        allow = {
            NOT = {
                has_country_flag = jason_gold_dev_enabled
            }
        }
        provinces_to_highlight = {
            OR = {
                trade_goods = gold
                trade_goods = silver
            }
            country_or_subject_holds = ROOT
        }
        effect = {
            set_country_flag = jason_gold_dev_enabled
        }
    }
    
    disable_gold_auto_dev = {
        major = yes
        color = { 100 0 0 }
        potential = {
            ai = no
            OR = {
                has_country_flag = jason_show_decisions_enabled
                has_country_flag = jason_show_dev_decisions_enabled
            }
            has_country_flag = jason_gold_dev_enabled
        }
        allow = {
            has_country_flag = jason_gold_dev_enabled
        }
        provinces_to_highlight = {
            OR = {
                trade_goods = gold
                trade_goods = silver
            }
            country_or_subject_holds = ROOT
        }
        effect = {
            clr_country_flag = jason_gold_dev_enabled
        }
    }

    set_silk_dev = {
        major = yes
        color = { 100 200 0 }
        potential = {
            ai = no
            OR = {
                has_country_flag = jason_show_decisions_enabled
                has_country_flag = jason_show_dev_decisions_enabled
            }
            is_a_persian_tag = yes
        }
        allow = {
            any_owned_province = {
                OR = {
                    trade_goods = silk
                    trade_goods = dyes
                }
                NOT = { base_production = 25 }
            }
            is_a_persian_tag = yes
        }
        provinces_to_highlight = {
            OR = {
                trade_goods = silk
                trade_goods = dyes
            }
            NOT = { base_production = 25 }
            owned_by = ROOT
        }
        effect = {
            every_owned_province = {
                limit = {
                    OR = {
                        trade_goods = silk
                        trade_goods = dyes
                    }
                    NOT = {
                        # Ignore provinces that are already highly devved 
                        base_production = 25
                    }
                }
                set_high_dev_resource_gathering_operation = yes
            }
        }
    }

    enable_newcastle_coal_auto_dev = {
        major = yes
        color = { 100 200 0 }
        potential = {
            ai = no
            OR = {
                has_country_flag = jason_show_decisions_enabled
                has_country_flag = jason_show_dev_decisions_enabled
            }
            NOT = {
                has_country_flag = jason_newcastle_coal_dev_enabled
            }
        }
        allow = {
            NOT = {
                has_country_flag = jason_newcastle_coal_dev_enabled
            }
        }
        provinces_to_highlight = {
            OR = {
                trade_goods = newcastle_coal
            }
            owned_by = ROOT
        }
        effect = {
            set_country_flag = jason_newcastle_coal_dev_enabled
        }
    }

    disable_newcastle_coal_auto_dev = {
        major = yes
        color = { 100 0 0 }
        potential = {
            ai = no
            OR = {
                has_country_flag = jason_show_decisions_enabled
                has_country_flag = jason_show_dev_decisions_enabled
            }
            has_country_flag = jason_newcastle_coal_dev_enabled
        }
        allow = {
            has_country_flag = jason_newcastle_coal_dev_enabled
        }
        provinces_to_highlight = {
            OR = {
                trade_goods = newcastle_coal
            }
            owned_by = ROOT
        }
        effect = {
            clr_country_flag = jason_newcastle_coal_dev_enabled
        }
    }

    enable_diamonds_auto_dev = {
        major = yes
        color = { 100 200 0 }
        potential = {
            ai = no
            OR = {
                has_country_flag = jason_show_decisions_enabled
                has_country_flag = jason_show_dev_decisions_enabled
            }
            NOT = {
                has_country_flag = jason_diamonds_dev_enabled
            }
        }
        allow = {
            NOT = {
                has_country_flag = jason_diamonds_dev_enabled
            }
        }
        provinces_to_highlight = {
            OR = {
                trade_goods = diamonds
            }
            owned_by = ROOT
        }
        effect = {
            set_country_flag = jason_diamonds_dev_enabled
        }
    }

    disable_diamonds_auto_dev = {
        major = yes
        color = { 100 0 0 }
        potential = {
            ai = no
            OR = {
                has_country_flag = jason_show_decisions_enabled
                has_country_flag = jason_show_dev_decisions_enabled
            }
            has_country_flag = jason_diamonds_dev_enabled
        }
        allow = {
            has_country_flag = jason_diamonds_dev_enabled
        }
        provinces_to_highlight = {
            OR = {
                trade_goods = diamonds
            }
            country_or_subject_holds = ROOT
        }
        effect = {
            clr_country_flag = jason_diamonds_dev_enabled
        }
    }

    upgrade_gold_dev = {
        major = no
        color = { 0 255 255 }
        potential = {
            ai = no
            has_country_flag = jason_show_decisions_enabled
        }
        provinces_to_highlight = {
            OR = {
                trade_goods = gold
                trade_goods = silver
            }
            country_or_subject_holds = ROOT
        }
        allow = {
            any_province = {
                OR = {
                    trade_goods = gold
                    trade_goods = silver
                }
                country_or_subject_holds = ROOT
            }
        }
        effect = {
            every_owned_province = {
                limit = {
                    OR = {
                        trade_goods = gold
                        trade_goods = silver
                    }
                }
                add_base_tax = 2
                add_base_production = 3
                add_base_manpower = 1
            }
            every_subject_country = {
                every_owned_province = {
                    limit = {
                        OR = {
                            trade_goods = gold
                            trade_goods = silver
                        }
                    }
                    add_base_tax = 2
                    add_base_production = 3
                    add_base_manpower = 1
                }
            }
        }
    }

    upgrade_silk_dev = {
        major = no
        color = { 0 255 255 }
        potential = {
            ai = no
            has_country_flag = jason_show_decisions_enabled
            is_a_persian_tag = yes
        }
        provinces_to_highlight = {
            OR = {
                trade_goods = silk
                trade_goods = dyes
            }
            owned_by = ROOT
        }
        allow = {
            any_owned_province = {
                OR = {
                    trade_goods = silk
                    trade_goods = dyes
                }
            }
            is_a_persian_tag = yes
        }
        effect = {
            every_owned_province = {
                limit = {
                    OR = {
                        trade_goods = silk
                        trade_goods = dyes
                    }
                }
                add_base_tax = 2
                add_base_production = 3
                add_base_manpower = 1
            }
        }
    }

    monopolize_silk_and_dyes = {
        major = yes
        color = { 0 0 255 }
        potential = {
            ai = no
            OR = {
                has_country_flag = jason_show_decisions_enabled
                has_country_flag = jason_show_dev_decisions_enabled
            }
            is_a_persian_tag = yes
        }
        allow = {
            any_province = {
                OR = {
                    trade_goods = silk
                    trade_goods = dyes
                }
                NOT = { owned_by = ROOT }
            }
            is_a_persian_tag = yes
        }
        provinces_to_highlight = {
            OR = {
                trade_goods = silk
                trade_goods = dyes
            }
            NOT = { owned_by = ROOT }
        }
        effect = {
            log = "Monopolizing silk and dyes into home country"
            ROOT = {
                set_variable = {
                    which = numProvincesAffected
                    value = 0
                }

                set_variable = {
                    which = provincesAvailable
                    value = 0
                }
            }
            every_province = {
                limit = {
                    OR = {
                        trade_goods = silk
                        trade_goods = dyes
                    }
                    NOT = { owned_by = ROOT }
                }

                change_trade_goods = cloth

                ROOT = {
                    change_variable = {
                        which = numProvincesAffected
                        value = 1
                    }
                }
                log = "Removed silk from [This.GetName] and changed to cloth"
                ROOT = {
                    log = "# provinces modified so far: [ROOT.numProvincesAffected.GetValue]"
                }
            }
            ROOT = {
                log = "Finished removing silk from foreign provinces. Total # of modified provinces: [ROOT.numProvincesAffected.GetValue]"
            }

            every_owned_province = {
                limit = {
                    NOT = {
                        is_valuable_goods_producing_province = yes
                    }
                }
                ROOT = {
                    change_variable = {
                        which = provincesAvailable
                        value = 1
                    }
                }
                # log = "Found [This.GetName] as a valid province to change into silk, # provinces available so far: [ROOT.provincesAvailable.GetValue]"
            }
            ROOT = {
                log = "Finished counting number of valid provinces. # provinces available: [ROOT.provincesAvailable.GetValue]"
            }
            ROOT = {
                while = {
                    limit = {
                        ROOT = {
                            check_variable = {
                                which = numProvincesAffected
                                value = 1
                            }
                            check_variable = {
                                which = provincesAvailable
                                value = 1
                            }
                        }
                    }
        
                    random_owned_province = {
                        limit = {
                            NOT = {
                                is_valuable_goods_producing_province = yes
                            }
                        }
                        change_trade_goods = silk
                        ROOT = {
                            change_variable = {
                                which = numProvincesAffected
                                value = -1
                            }
                            change_variable = {
                                which = provincesAvailable
                                value = -1
                            }
                        }
                        log = "Added silk to [This.GetName]"
                        
                        ROOT = {
                            log = "Provinces left to modify: [ROOT.numProvincesAffected.GetValue], valid provinces left: [ROOT.provincesAvailable.GetValue]"
                        }
                    }

                    if = {
                        limit = {
                            ROOT = {
                                NOT = {
                                    check_variable = {
                                        which = provincesAvailable
                                        value = 1
                                    }
                                }
                                check_variable = {
                                    which = numProvincesAffected
                                    value = 1
                                }
                            }
                        }
                        ROOT = {
                            log = "No more valid provinces to change into silk, but still have [ROOT.numProvincesAffected.GetValue] provinces left to modify, stopping loop early"
                        }
                    }
                }
            }
        }
    }

    monopolize_gold_from_non_mining_subjects = {
        major = yes
        color = { 0 0 255 }
        potential = {
            ai = no
            OR = {
                has_country_flag = jason_show_decisions_enabled
            }
            any_province = {
                OR = {
                    trade_goods = gold
                }
                NOT = { owned_by = ROOT }

                owner = {
                    is_subject_of = ROOT
                    NOT = {
                        is_treasure_fleet_enabled_subject = yes
                    }
                }
            }
        }
        allow = {
            any_province = {
                OR = {
                    trade_goods = gold
                }
                NOT = { owned_by = ROOT }

                owner = {
                    is_subject_of = ROOT
                    NOT = {
                        is_treasure_fleet_enabled_subject = yes
                    }
                }
            }
        }
        provinces_to_highlight = {
            OR = {
                trade_goods = gold
            }
            NOT = { owned_by = ROOT }

            owner = {
                is_subject_of = ROOT
                NOT = {
                    is_treasure_fleet_enabled_subject = yes
                }
            }
        }
        effect = {
            log = "Monopolizing gold from tariff-less subjects into home country"
            ROOT = {
                set_variable = {
                    which = numProvincesAffected
                    value = 0
                }

                set_variable = {
                    which = provincesAvailable
                    value = 0
                }
            }
            every_province = {
                limit = {
                    OR = {
                        trade_goods = gold
                    }
                    NOT = { owned_by = ROOT }
                    owner = {
                        NOT = {
                            is_subject_of_type = mining_corporation
                        }
                    }
                }

                change_trade_goods = iron

                ROOT = {
                    change_variable = {
                        which = numProvincesAffected
                        value = 1
                    }
                }
                log = "Removed gold/silver from [This.GetName] and changed to iron"
                ROOT = {
                    log = "# provinces modified so far: [ROOT.numProvincesAffected.GetValue]"
                }
            }
            ROOT = {
                log = "Finished removing gold/silver from tariff-less subjects. Total # of modified provinces: [ROOT.numProvincesAffected.GetValue]"
            }

            every_owned_province = {
                limit = {
                    NOT = {
                        is_valuable_goods_producing_province = yes
                    }
                }
                ROOT = {
                    change_variable = {
                        which = provincesAvailable
                        value = 1
                    }
                }
            }
            ROOT = {
                log = "Finished counting number of valid provinces. # provinces available: [ROOT.provincesAvailable.GetValue]"
            }
            ROOT = {
                while = {
                    limit = {
                        ROOT = {
                            check_variable = {
                                which = numProvincesAffected
                                value = 1
                            }
                            check_variable = {
                                which = provincesAvailable
                                value = 1
                            }
                        }
                    }
        
                    random_owned_province = {
                        limit = {
                            NOT = {
                                is_valuable_goods_producing_province = yes
                            }
                        }
                        change_trade_goods = gold
                        ROOT = {
                            change_variable = {
                                which = numProvincesAffected
                                value = -1
                            }
                            change_variable = {
                                which = provincesAvailable
                                value = -1
                            }
                        }
                        log = "Added gold to [This.GetName]"
                        
                        ROOT = {
                            log = "Provinces left to modify: [ROOT.numProvincesAffected.GetValue], valid provinces left: [ROOT.provincesAvailable.GetValue]"
                        }
                    }

                    if = {
                        limit = {
                            ROOT = {
                                NOT = {
                                    check_variable = {
                                        which = provincesAvailable
                                        value = 1
                                    }
                                }
                                check_variable = {
                                    which = numProvincesAffected
                                    value = 1
                                }
                            }
                        }
                        ROOT = {
                            log = "No more valid provinces to change into gold, but still have [ROOT.numProvincesAffected.GetValue] provinces left to modify, stopping loop early"
                        }
                    }
                }
            }
        }
    }

    discount_gold_dev = {
        major = no
        potential = {
            ai = no
            has_country_flag = jason_show_decisions_enabled
        }
        allow = {
            any_province = {
                OR = {
                    trade_goods = gold
                    trade_goods = silver
                }
                country_or_subject_holds = ROOT
            }
        }
        provinces_to_highlight = {
            OR = {
                trade_goods = gold
                trade_goods = silver
            }
            country_or_subject_holds = ROOT
        }
        effect = {
            set_high_dev_cost_reduction_on_all_gold_and_silver_prov = yes
    
            every_subject_country = {
                set_high_dev_cost_reduction_on_all_gold_and_silver_prov = yes
            }
        }
    }

    clear_foreign_claims = {
        major = no
        color = { 255 0 0 }
        potential = {
            ai = no
            has_country_flag = jason_show_decisions_enabled
        }
        effect = {
            every_country = {
                limit = {
                    NOT = { tag = ROOT }
                }
                save_event_target_as = foreign_country
                ROOT = {
                    every_owned_province = {
                        remove_core = event_target:foreign_country
                        remove_claim = event_target:foreign_country
                        log = "Removing foreign cores from [This.GetName] for [event_target:foreign_country]"
                    }
                    every_subject_country = {
                        limit = {
                            NOT = { tag = event_target:foreign_country }
                        }
                        every_owned_province = {
                            remove_core = event_target:foreign_country
                            remove_claim = event_target:foreign_country
                            log = "Removing foreign cores from [This.GetName] for [event_target:foreign_country]"
                        }
                    }
                }
            }
        }
    }

    enable_high_defensiveness_bonus_on_defensive_marches = {
        major = no
        potential = {
            ai = no
            has_country_flag = jason_show_decisions_enabled
            NOT = {
                has_country_flag = jason_defensive_march_enable_high_defensiveness
            }
        }
        allow = {
            ai = no
            NOT = {
                has_country_flag = jason_defensive_march_enable_high_defensiveness
            }
        }
        provinces_to_highlight = {
            owner = {
                is_subject_of_type = defensive_march
            }
        }
        effect = {
            set_country_flag = jason_defensive_march_enable_high_defensiveness
            log = "Enabling high defensiveness bonus on defensive marches"

            every_subject_country = {
                limit = {
                    is_subject_of_type = defensive_march
                }
                set_high_defensiveness_on_country = yes
                every_owned_province = {
                    set_high_defensiveness_on_prov = yes
                }
            }
        }
    }

    disable_high_defensiveness_bonus_on_defensive_marches = {
        major = no
        color = { 100 0 0 }
        potential = {
            ai = no
            has_country_flag = jason_show_decisions_enabled
            has_country_flag = jason_defensive_march_enable_high_defensiveness
        }
        allow = {
            ai = no
            has_country_flag = jason_defensive_march_enable_high_defensiveness
        }
        provinces_to_highlight = {
            owner = {
                is_subject_of_type = defensive_march
            }
        }
        effect = {
            clr_country_flag = jason_defensive_march_enable_high_defensiveness
            log = "Disabling high defensiveness bonus on defensive marches"

            every_subject_country = {
                limit = {
                    is_subject_of_type = defensive_march
                }
                remove_high_defensiveness_on_country = yes
                every_owned_province = {
                    remove_high_defensiveness_on_prov = yes
                }
            }
        }
    }

    enable_dev_on_all_cot = {
        major = no
        potential = {
            ai = no
            has_country_flag = jason_show_decisions_enabled
            NOT = {
                has_country_flag = jason_dev_on_all_cot_enabled
            }
        }
        allow = {
            ai = no
            NOT = {
                has_country_flag = jason_dev_on_all_cot_enabled
            }
        }
        provinces_to_highlight = {
            country_or_subject_holds = ROOT
            province_has_center_of_trade_of_level = 1
        }
        effect = {
            set_country_flag = jason_dev_on_all_cot_enabled
            set_prov_trade_power_on_all_cot_for_country_and_subjects = yes
        }
    }

    disable_dev_on_all_cot = {
        major = no
        color = { 100 0 0 }
        potential = {
            ai = no
            has_country_flag = jason_show_decisions_enabled
            has_country_flag = jason_dev_on_all_cot_enabled
        }
        allow = {
            ai = no
            has_country_flag = jason_dev_on_all_cot_enabled
        }
        provinces_to_highlight = {
            country_or_subject_holds = ROOT
            province_has_center_of_trade_of_level = 1
        }
        effect = {
            clr_country_flag = jason_dev_on_all_cot_enabled
        }
    }

    enable_prov_trade_power_on_all_cot = {
        major = no
        potential = {
            ai = no
            has_country_flag = jason_show_decisions_enabled
            NOT = {
                has_country_flag = jason_prov_trade_power_on_all_cot_enabled
            }
        }
        allow = {
            ai = no
            NOT = {
                has_country_flag = jason_prov_trade_power_on_all_cot_enabled
            }
        }
        provinces_to_highlight = {
            country_or_subject_holds = ROOT
            province_has_center_of_trade_of_level = 1
        }
        effect = {
            set_country_flag = jason_prov_trade_power_on_all_cot_enabled
            set_prov_trade_power_on_all_cot_for_country_and_subjects = yes
        }
    }

    disable_prov_trade_power_on_all_cot = {
        major = no
        color = { 100 0 0 }
        potential = {
            ai = no
            has_country_flag = jason_show_decisions_enabled
            has_country_flag = jason_prov_trade_power_on_all_cot_enabled
        }
        allow = {
            ai = no
            has_country_flag = jason_prov_trade_power_on_all_cot_enabled
        }
        provinces_to_highlight = {
            country_or_subject_holds = ROOT
            province_has_center_of_trade_of_level = 1
        }
        effect = {
            clr_country_flag = jason_prov_trade_power_on_all_cot_enabled
        }
    }

    enable_prov_trade_power_on_all = {
        major = no
        potential = {
            ai = no
            has_country_flag = jason_show_decisions_enabled
            NOT = {
                has_country_flag = jason_prov_trade_power_on_all_enabled
            }
        }
        allow = {
            ai = no
            NOT = {
                has_country_flag = jason_prov_trade_power_on_all_enabled
            }
        }
        provinces_to_highlight = {
            country_or_subject_holds = ROOT
        }
        effect = {
            set_country_flag = jason_prov_trade_power_on_all_enabled
            set_prov_trade_power_on_all_provinces_for_country_and_subjects = yes
        }
    }

    disable_prov_trade_power_on_all = {
        major = no
        color = { 100 0 0 }
        potential = {
            ai = no
            has_country_flag = jason_show_decisions_enabled
            has_country_flag = jason_prov_trade_power_on_all_enabled
        }
        allow = {
            ai = no
            has_country_flag = jason_prov_trade_power_on_all_enabled
        }
        provinces_to_highlight = {
            country_or_subject_holds = ROOT
        }
        effect = {
            clr_country_flag = jason_prov_trade_power_on_all_enabled
        }
    }

    enable_auto_marry_all_christians = {
        major = no
        potential = {
            ai = no
            has_country_flag = jason_show_decisions_enabled
            NOT = {
                has_country_flag = jason_auto_marry_all_christians_enabled
            }

            OR = {
                religion = catholic
                religion = orthodox
                religion = coptic
                religion = protestant
                religion = reformed
    
                religion_group = christian
            }
        }
        allow = {
            ai = no
            NOT = {
                has_country_flag = jason_auto_marry_all_christians_enabled
            }
            
            OR = {
                religion = catholic
                religion = orthodox
                religion = coptic
                religion = protestant
                religion = reformed
    
                religion_group = christian
            }
        }
        effect = {
            set_country_flag = jason_auto_marry_all_christians_enabled
            marry_all_christians = yes
        }
    }

    disable_auto_marry_all_christians = {
        major = no
        color = { 100 0 0 }
        potential = {
            ai = no
            has_country_flag = jason_show_decisions_enabled
            has_country_flag = jason_auto_marry_all_christians_enabled
        }
        allow = {
            ai = no
            has_country_flag = jason_auto_marry_all_christians_enabled
        }
        effect = {
            clr_country_flag = jason_auto_marry_all_christians_enabled
        }
    }
    
    enable_auto_marry_everyone = {
        major = no
        potential = {
            ai = no
            has_country_flag = jason_show_decisions_enabled
            NOT = {
                has_country_flag = jason_auto_marry_everyone_enabled
            }
        }
        allow = {
            ai = no
            NOT = {
                has_country_flag = jason_auto_marry_everyone_enabled
            }
        }
        effect = {
            set_country_flag = jason_auto_marry_everyone_enabled
            marry_everyone = yes
        }
    }

    disable_auto_marry_everyone = {
        major = no
        color = { 100 0 0 }
        potential = {
            ai = no
            has_country_flag = jason_show_decisions_enabled
            has_country_flag = jason_auto_marry_everyone_enabled
        }
        allow = {
            ai = no
            has_country_flag = jason_auto_marry_everyone_enabled
        }
        effect = {
            clr_country_flag = jason_auto_marry_everyone_enabled
        }
    }
    
    enable_auto_upgrade_cot_to_3 = {
        major = no
        potential = {
            ai = no
            has_country_flag = jason_show_decisions_enabled
            NOT = {
                has_country_flag = jason_auto_upgrade_cot_to_3_enabled
            }
        }
        allow = {
            ai = no
            NOT = {
                has_country_flag = jason_auto_upgrade_cot_to_3_enabled
            }
        }
        effect = {
            set_country_flag = jason_auto_upgrade_cot_to_3_enabled
            upgrade_all_cot_to_level_3 = yes
        }
    }

    disable_auto_upgrade_cot_to_3 = {
        major = no
        color = { 100 0 0 }
        potential = {
            ai = no
            has_country_flag = jason_auto_upgrade_cot_to_3_enabled
            has_country_flag = jason_show_decisions_enabled
        }
        allow = {
            ai = no
            has_country_flag = jason_auto_upgrade_cot_to_3_enabled
        }
        effect = {
            clr_country_flag = jason_auto_upgrade_cot_to_3_enabled
        }
    }

    set_owned_specific_provinces_to_gold_decision = {
        major = yes
        color = { 255 255 0 }
        potential = {
            ai = no
            OR = {
                any_province = {
                    is_specific_gold_staked_province = yes
                    country_or_subject_holds = ROOT
                    NOT = { trade_goods = gold }
                }
            }
        }
        allow = {
            ai = no
            OR = {
                any_province = {
                    is_specific_gold_staked_province = yes
                    country_or_subject_holds = ROOT
                    NOT = { trade_goods = gold }
                }
            }
        }
        provinces_to_highlight = {
            country_or_subject_holds = ROOT
            is_specific_gold_staked_province = yes
            NOT = { trade_goods = gold }
        }
        effect = {
            set_owned_specific_provinces_to_gold = yes
        }
    }

    set_owned_specific_provinces_to_diamonds_decision = {
        major = yes
        color = { 255 255 0 }
        potential = {
            ai = no
            OR = {
                any_province = {
                    is_specific_diamond_staked_province = yes
                    country_or_subject_holds = ROOT
                    NOT = { trade_goods = diamonds }
                }
            }
        }
        allow = {
            ai = no
            OR = {
                any_province = {
                    is_specific_diamond_staked_province = yes
                    country_or_subject_holds = ROOT
                    NOT = { trade_goods = diamonds }
                }
            }
        }
        provinces_to_highlight = {
            country_or_subject_holds = ROOT
            is_specific_diamond_staked_province = yes
            NOT = { trade_goods = diamonds }
        }
        effect = {
            set_owned_specific_provinces_to_diamonds = yes
        }
    }

    set_owned_slave_provinces_to_gold_decision = {
        major = yes
        color = { 255 255 0 }
        potential = {
            ai = no
            OR = {
                has_country_flag = jason_show_decisions_enabled
                has_country_flag = jason_show_dev_decisions_enabled
            }
            OR = {
                any_province = {
                    trade_goods = slaves
                    country_or_subject_holds = ROOT
                }
            }
        }
        allow = {
            ai = no
            OR = {
                any_province = {
                    trade_goods = slaves
                    country_or_subject_holds = ROOT
                }
            }
        }
        provinces_to_highlight = {
            trade_goods = slaves
            country_or_subject_holds = ROOT
        }
        effect = {
            set_owned_slave_provinces_to_gold = yes
        }
    }

    set_subject_owned_slave_provinces_to_random = {
        major = yes
        color = { 0 0 0 }
        potential = {
            ai = no
            OR = {
                has_country_flag = jason_show_decisions_enabled
                has_country_flag = jason_show_dev_decisions_enabled
            }
            OR = {
                any_province = {
                    trade_goods = slaves
                    country_or_subject_holds = ROOT
                }
            }
        }
        allow = {
            ai = no
            OR = {
                any_province = {
                    trade_goods = slaves
                    country_or_subject_holds = ROOT
                }
            }
        }
        provinces_to_highlight = {
            trade_goods = slaves
            country_or_subject_holds = ROOT
        }
        effect = {
            every_subject_country = {
                every_owned_province = {
                    limit = {
                        trade_goods = slaves
                    }
            
                    set_random_trade_good = yes
                }
            }
            every_owned_province = {
                limit = {
                    trade_goods = slaves
                }
        
                set_random_trade_good = yes
            }
        }  
    }

    enable_automatic_max_tariffs = {
        major = yes
        potential = {
            ai = no
            has_country_flag = jason_show_decisions_enabled
            NOT = {
                has_country_flag = jason_automatic_max_tariffs_enabled
            }
        }
        allow = {
            ai = no
            NOT = {
                has_country_flag = jason_automatic_max_tariffs_enabled
            }
        }
        effect = {
            set_country_flag = jason_automatic_max_tariffs_enabled
        } 
    }

    disable_automatic_max_tariffs = {
        major = yes
        color = { 100 0 0 }
        potential = {
            ai = no
            has_country_flag = jason_show_decisions_enabled
            has_country_flag = jason_automatic_max_tariffs_enabled
        }
        allow = {
            ai = no
            has_country_flag = jason_automatic_max_tariffs_enabled
        }
        effect = {
            clr_country_flag = jason_automatic_max_tariffs_enabled
            automatic_reduce_half_tariffs = yes
        }  
    }

    enable_set_zero_autonomy_on_precious_provinces = {
        major = yes
        potential = {
            ai = no
            has_country_flag = jason_show_decisions_enabled
            NOT = {
                has_country_flag = jason_set_zero_autonomy_on_precious_provinces_enabled
            }
            # If already enabled on all provinces, no point showing this decision to enable it only in a few
            NOT = {
                has_country_flag = jason_set_zero_autonomy_on_all_provinces_enabled
            }
        }
        allow = {
            ai = no
            NOT = {
                has_country_flag = jason_set_zero_autonomy_on_precious_provinces_enabled
            }
        }
        effect = {
            set_country_flag = jason_set_zero_autonomy_on_precious_provinces_enabled
        }  
    }
    
    disable_set_zero_autonomy_on_precious_provinces = {
        major = yes
        color = { 100 0 0 }
        potential = {
            ai = no
            has_country_flag = jason_show_decisions_enabled
            has_country_flag = jason_set_zero_autonomy_on_precious_provinces_enabled
        }
        allow = {
            ai = no
            has_country_flag = jason_set_zero_autonomy_on_precious_provinces_enabled
        }
        effect = {
            clr_country_flag = jason_set_zero_autonomy_on_precious_provinces_enabled
        }  
    }

    enable_boost_all_marches = {
        major = yes
        potential = {
            ai = no
            has_country_flag = jason_show_decisions_enabled
            NOT = {
                has_country_flag = boost_all_marches_enabled
            }
        }
        allow = {
            ai = no
            NOT = {
                has_country_flag = boost_all_marches_enabled
            }
        }
        effect = {
            set_country_flag = boost_all_marches_enabled
        }  
    }

    disable_boost_all_marches = {
        major = yes
        color = { 100 0 0 }
        potential = {
            ai = no
            has_country_flag = jason_show_decisions_enabled
            has_country_flag = boost_all_marches_enabled
        }
        allow = {
            ai = no
            has_country_flag = boost_all_marches_enabled
        }
        effect = {
            clr_country_flag = boost_all_marches_enabled
        }  
    }

    enable_set_zero_autonomy_on_all_provinces = {
        major = yes
        potential = {
            ai = no
            has_country_flag = jason_show_decisions_enabled
            NOT = {
                has_country_flag = jason_set_zero_autonomy_on_all_provinces_enabled
            }
        }
        allow = {
            ai = no
            NOT = {
                has_country_flag = jason_set_zero_autonomy_on_all_provinces_enabled
            }
        }
        effect = {
            set_country_flag = jason_set_zero_autonomy_on_all_provinces_enabled
        }  
    }

    disable_set_zero_autonomy_on_all_provinces = {
        major = yes
        color = { 100 0 0 }
        potential = {
            ai = no
            has_country_flag = jason_show_decisions_enabled
            has_country_flag = jason_set_zero_autonomy_on_all_provinces_enabled
        }
        allow = {
            ai = no
            has_country_flag = jason_set_zero_autonomy_on_all_provinces_enabled
        }
        effect = {
            clr_country_flag = jason_set_zero_autonomy_on_all_provinces_enabled
        }  
    }


    enable_high_trade_power_on_trade_outposts = {
        major = yes
        potential = {
            ai = no
            has_country_flag = jason_show_decisions_enabled
            NOT = {
                has_country_flag = high_trade_power_on_trade_outposts_enabled
            }
        }
        allow = {
            ai = no
            NOT = {
                has_country_flag = high_trade_power_on_trade_outposts_enabled
            }
        }
        effect = {
            set_country_flag = high_trade_power_on_trade_outposts_enabled
        }  
    }

    disable_high_trade_power_on_trade_outposts = {
        major = yes
        color = { 100 0 0 }
        potential = {
            ai = no
            has_country_flag = jason_show_decisions_enabled
            has_country_flag = high_trade_power_on_trade_outposts_enabled
        }
        allow = {
            ai = no
            has_country_flag = high_trade_power_on_trade_outposts_enabled
        }
        effect = {
            clr_country_flag = high_trade_power_on_trade_outposts_enabled
        }  
    }

    enable_subjects_auto_core = {
        major = yes
        potential = {
            ai = no
            has_country_flag = jason_show_decisions_enabled
            NOT = {
                has_country_flag = jason_subjects_auto_core_enabled
            }
        }
        allow = {
            ai = no
            NOT = {
                has_country_flag = jason_subjects_auto_core_enabled
            }
        }
        effect = {
            set_country_flag = jason_subjects_auto_core_enabled
        }  
    }

    disable_subjects_auto_core = {
        major = yes
        color = { 100 0 0 }
        potential = {
            ai = no
            has_country_flag = jason_show_decisions_enabled
            has_country_flag = jason_subjects_auto_core_enabled
        }
        allow = {
            ai = no
            has_country_flag = jason_subjects_auto_core_enabled
        }
        effect = {
            clr_country_flag = jason_subjects_auto_core_enabled
        }  
    }

    discover_world_decision = {
        major = yes
        potential = {
            ai = no
            has_country_flag = jason_show_decisions_enabled
            NOT = {
                has_country_flag = jason_world_discovered
            }
        }
        allow = {
            ai = no
            NOT = {
                has_country_flag = jason_world_discovered
            }
        }
        effect = {
            discover_world = yes
            set_country_flag = jason_world_discovered
        }  
    }

    set_high_american_decision = {
        major = yes
        potential = {
            ai = no
            has_country_flag = jason_show_decisions_enabled
            NOT = {
                technology_group = high_american
                unit_type = high_american
            }
        }
        allow = {
            ai = no
            # If either is not true
            NOT = {
                technology_group = high_american
                unit_type = high_american
            }
        }
        effect = {
            change_technology_group = high_american
            change_unit_type = high_american
        }  
    }

    initialize_major_cheats_decision = {
        major = yes
        color = { 0 255 0 }
        potential = {
            ai = no
            has_country_flag = jason_show_decisions_enabled
            NOT = {
                has_country_flag = jason_cheats_initialized
            }
        }
        allow = {
            ai = no
            NOT = {
                has_country_flag = jason_cheats_initialized
            }
        }
        effect = {
            set_initialize_cheats = yes
            set_country_flag = jason_cheats_initialized
        }
    }

    reinitialize_major_cheats_decision = {
        major = yes
        color = { 0 100 0 }
        potential = {
            ai = no
            has_country_flag = jason_show_decisions_enabled
            has_country_flag = jason_cheats_initialized
        }
        allow = {
            ai = no
        }
        effect = {
            set_initialize_cheats = yes
            set_country_flag = jason_cheats_initialized
        }
    }

    enable_estates_decision = {
        major = yes
        potential = {
            ai = no
            has_country_flag = jason_show_decisions_enabled
            OR = {
                # If either estate flag is missing, we can enable the estates
                NOT = { has_country_flag = enables_estate_burghers_flag }
                NOT = { has_country_flag = enables_estate_church_flag }
            }
            # Can't be either of these two tags, as they have their own estate mechanics
            NOT = { tag = NHS }
            NOT = { tag = ELY }
        }
        allow = {
            ai = no
            OR = {
                # If either estate flag is missing, we can enable the estates
                NOT = { has_country_flag = enables_estate_burghers_flag }
                NOT = { has_country_flag = enables_estate_church_flag }
            }
            # Can't be either of these two tags, as they have their own estate mechanics
            NOT = { tag = NHS }
            NOT = { tag = ELY }
        }
        effect = {
            enable_estates = yes
        }
    }

    max_estate_loyalty_decision = {
        major = no
        potential = {
            ai = no
            has_country_flag = jason_show_decisions_enabled
        }
        allow = {
            ai = no
        }
        effect = {
            maximize_estate_loyalty = yes
        }
    }

    build_mills_for_diamond_provinces_decision = {
        major = no
        potential = {
            ai = no
            has_country_flag = jason_show_decisions_enabled
        }
        allow = {
            always = yes
            any_owned_province = {
                trade_goods = diamonds
                NOT = { has_building = mills }
            }
        }
        provinces_to_highlight = {
            OR = {
                trade_goods = diamonds
            }
            has_building = mills
            owned_by = ROOT
        }
        effect = {
            build_mills_for_diamond_provinces = yes
        }
    }

    constitute_new_world_decision = {
        major = no
        color = { 0 0 255}
        potential = {
            ai = no
        }
        allow = {
            ai = no
        }
        effect = {
            constitute_new_world = yes
        }
    }

    enable_show_decisions = {
        major = yes
        color = { 0 255 0 }
        potential = {
            ai = no
            NOT = {
                has_country_flag = jason_show_decisions_enabled
            }
        }
        allow = {
            ai = no
            NOT = {
                has_country_flag = jason_show_decisions_enabled
            }
        }
        effect = {
            set_country_flag = jason_show_decisions_enabled
        }
    }

    disable_show_decisions = {
        major = yes
        color = { 180 0 0 }
        potential = {
            ai = no
            has_country_flag = jason_show_decisions_enabled
        }
        allow = {
            ai = no
            has_country_flag = jason_show_decisions_enabled
        }
        effect = {
            clr_country_flag = jason_show_decisions_enabled
        }
    }
}
